# Fiz-EIM

### 介绍
**[Fiz-EIM](http://www.fiztask.com/)即时办公**

#### 产品概述
支持私有化部署，为企业提供安全可靠、功能完善、易于使用的内部通信工具，提升团队协作效率，促进信息快速传递，为企业提供统一的工作沟通、协同、业务管理能力，全面适配国产化环境，助力企业发展。

#### 产品定位
Fiz-EIM定位于企业内部专属通讯平台，拥有丰富的接口与规范，企业版可提供私有AI人工智能模型，支持企业现有业务系统接入，加速企业业务信息智能化流转，全面提升企业信息安全，精细化管理，提升企业经营效益。

##### 四大协同能力
* 1、通讯协同
面向企业即时沟通通讯平台，满足常规IM沟通之外，增加企业办公需要任务、代办、讨论等特有功能。
1. 统一通讯，快速找人
2. 多端同步，消息必达
3. 工作组群，沟通高效
4. 服务端存储，记录可查

* 2、文档协同
企业文档协同管理，支持在线多人编辑office文档，文档好友发送，组群协同编辑，支持文档多级权限管理，提高企业信息安全
1. 即时分享，多端同步
2. 团队共创，多人协作
3. 多策略管控，信息安全
4. 跨系统文档协同


* 3、业务协同
提供丰富的标准接口与规范，支持企业已有系统对接，打破信息孤岛，实现业务融合，工作入口统一，业务消息即时送达
1. 标准开发接口，支持企业第三方系统接入，整合系统功能，赋能业务消息送达，提高生产力
2. 现有系统通过标准化的集成解决方案、前端集成方案对接Fiz-EIM
3. 工作台模式：实现功能、数据找人，帮助员工聚焦业务


* 4、AI协同
可选的大模型私有化部署，语音转文字，自动生成会议报告，智能化分析，通过简单对话即可对数据进行分析
1. 自动识别，智能填写
2. 语音识别，智能会议纪要
3. 智能报表，智能自助分析
4. 智能问答，智能经验库

##### 丰富的开箱即用服务&系统
1. 任务管理系统
2. 文档管理系统
3. 人事管理系统
4. 薪酬管理系统
5. BPM系统
6. BSP系统
7. BI分析套件
8. 大屏设计器
9. 数仓套件
10. 更多应用敬请期待

 

#### 产品版本介绍

| 名称                                                         | 功能     | 功能项   | 描述                                                                                          | 选择说明 | 开源版说明 | 专业版说明 | 企业版说明  |
|------------------------------------------------------------|--------|-------|---------------------------------------------------------------------------------------------|------|-------|-------|--------|
| Fiz-EIM                                                    | IM通讯协同 |       | 企业内部专属通讯平台，加速企业业务信息智能化流转，全面提升企业信息安全，精细化管理，提升企业经营效益。                                         | 默认   | 基础    | 进阶    | 进阶+定制化 |
| 私有化、移动化、安全可靠的企业级智能即时通讯软件，为企业提供统一的工作沟通、协同、业务管理能力，全面适配国产化环境。 | 业务协同   |       | 标准开发接口，支持企业第三方系统接入，整合系统功能，赋能业务消息送达，提高生产力                                                    | 默认   | 基础    | 进阶    | 进阶+定制化 |
|                                                            | 文档协同   |       | 帮助团队高效协同编辑、分享、管理文档，沉淀团队经验，私有化部署策略进一步提高企业文档安全管控，构建新一代生产效率。                                   | 默认   | 基础    | 进阶    | 进阶+定制化 |
|                                                            | AI智能协同 |       | 私有化AI模型4大应用快速帮助企业完成智能化转变，释放劳动力，提升产能                                                         | 可选   | 基础    | 进阶    | 进阶+定制化 |
|                                                            | 原生应用   | 工作台   | 开箱即用的工作台支持自建应用、自建分组、自建组件，为企业成员提供一站式的工作门户                                                    | 默认   | 基础    | 进阶    | 进阶+定制化 |
|                                                            |        | 文档库   | 企业级文档库，支持目录划分，权限分配，支持在线协同编辑，与项目/任务管理，IM聊天文件深度打通。实现了文档全流                                     | 可选   | 基础    | 进阶    | 进阶+定制化 |
|                                                            |        | 项目管理  | 项目管理包含项目质量控制、日报审核、成员管理、进度管理、风险管理、数据分析。项目生命周期提供不同视角聚焦关注问题，保证项目平稳运行。                          | 可选   | 基础    | 进阶    | 进阶+定制化 |
|                                                            |        | 人事管理  | 人事管理包含HR管理、人才管理、考核管理、工资管理等功能，帮助企业提高效率、优化决策、促进公平、节约成本、合规管理，助力员工发展。                           | 可选   | 基础    | 进阶    | 进阶+定制化 |
|                                                            |        | 人工智能  | 私有大模型对话即席分析，自然语言转机器语言，轻松获取业务报表，智能化分析总结。                                                     | 可选   | 基础    | 进阶    | 进阶+定制化 |
|                                                            | 中间件    | BPM   | 结合自主研发的业务流程引擎，实现流程的定义、发布及应用一体化服务                                                            | 可选   | 基础    | 进阶    | 进阶+定制化 |
|                                                            |        | BI可视化 | 平台内置数飞BI智能智能分析引擎，对业务数据可实现快速可视化设计与分析                                                         | 可选   | 基础    | 进阶    | 进阶+定制化 |
|                                                            |        | BSP   | 创建或同步现有组织架构，支持HR、OA、CRM、AD、AAD、LDAP、等多分支/多系统的整合，打造一个身份标准，维持统一组织架构，支持集成系统权限适配，快速完成业务消息通信与流转。 | 可选   | 基础    | 进阶    | 进阶+定制化 |
|                                                            |        | 大屏设计器 | 在线设计企业专属大屏，内置丰富大屏组件，无需编码，在线拖拽可完成大屏定义，内置70+大屏模板，可快速引入模板大屏进行二次设计                              | 可选   | 基础    | 进阶    | 进阶+定制化 |


#### 开源版本功能列表
Fiz-EIM开源版为50人左右的小型团队提供便捷的团队协作工具
| 项目  | 内容                                          | 开源版   |
|-----|---------------------------------------------|-------|
| IM  | 群聊频道                                        | √     |
|     | 单聊频道                                        | √     |
|     | 文本消息                                        | √     |
|     | 消息撤回                                        | √     |
|     | 消息删除                                        | √     |
|     | 表情回应                                        | √     |
|     | 话题消息                                        | √     |
|     | 转发消息                                        | √     |
|     | 回复消息                                        | √     |
|     | 置顶消息                                        | √     |
|     | 收藏消息                                        | √     |
|     | 群名称、群成员、解散、退出                               | √     |
| 文档库 | 我的文档                                        | √     |
|     | 最近使用                                        | √     |
|     | 文件库                                         | √     |
|     | 文件在线预览编辑                                    | √     |
|     | 文件上传                                        | √     |
|     | 文件下载                                        | √     |
|     | 文件夹管理（新建、重命名、删除）                            | √     |
| 任务  | 任务面板：对任务进行统一管理、查阅和操作。对任务阶段的细节、成员、进度进行管理     | √     |
|     | 项目集                                         | √     |
|     | 项目                                          | √     |
|     | 项目阶段                                        | √     |
|     | 任务                                          | √     |
|     | 项目成员管理                                      | √     |
| 工作台 | 考勤打卡                                        | √     |
|     | 日报审阅                                        | √     |
|     | 工作台设置-工作台分组配置：查看、创建、修改                      | √     |
|     | 工作台设置-工作台配置：创建应用、获取应用、启停应用                  | √     |
|     | 工作台设置-功能挂载：功能创建、获取、查看、删除等                   | √     |
|     | 中间件：BSP基础管理                                 | √     |
|     | BSP组织机构管理：用户管理、部门管理、岗位管理、角色管理、菜单管理          | √     |
|     | BSP系统管理：密码管理、字典管理、日历管理、通知公告、操作日志、登录日志、操作日志等 | √     |
| 服务  | 沟通群                                         | 官方交流群 |
|     | 问题响应                                        | 正常排队  |
|     | 需求响应                                        | 正常排队  |
|     | 平台搭建                                        | 自行搭建  |
|     | 平台升级                                        | 自行升级  |
|     | 商业使用                                        | 可商用   |




### 问题交流
如果大家发现bug，请在Gitee提issue；如果有需求也请给我们提issue。
其他问题，可以到QQ群进行交流学习，交流群：694718980

### 服务对象
为了预防我们的产品被用于非法目的，试用及购买只能支持境内法人单位，不接受个人或者境外团体。如果我们发现产品被用于非法目的，我们会立即停止技术支持服务并且报警和配合警方调查。请用于非法目的用户绕行！


# eim-server

#### 编译

下载  [xmlgraphics-batik](https://gitee.com/fiz-eim/xmlgraphics-batik)
```shell
git clone https://gitee.com/fiz-eim/xmlgraphics-batik.git
```

编译安装到本地仓库

```shell
mvn clean install
```



下载EIM代码

```shell
git clone https://gitee.com/fiz-eim/eim-server.git
```

执行 ` mvn clean package` 命令编译，编译后生成`eim-dist.tar.gz`与`eim-config.zip`，其中eim-dist.tar.gz包括gateway、system、auth、im及docker-compose脚本，eim-config.zip包括mysql、redis、nacos与nginx的配置以及数据库脚本。



下载[EIM Web](https://gitee.com/fiz-eim/eim-ui)代码

```
git clone https://gitee.com/fiz-eim/eim-ui.git
```

参考EIM Web说明进行编译

#### 安装配置

##### 安装MySQL【可选】

如果已有mysql环境，可以不用安装。

```
# 创建mysql目录
mkdir -p /app/data/application/mysql/conf

# 将 eim-config.zip中的mysql配置文件custom.conf上传到 /app/data/application/mysql/conf 目录

# 解压eim-dist.tar.gz并进入docker目录，执行以下命令，启动mysql
docker-compose -f docker-compose-fiz-server.yml up mysql -d

```



##### 创建数据库，导入数据

```
# 将 eim-config.zip 中的eim_base_db.sql、eim_im.sql导入mysql数据库

# 给fizeim账号赋予访问eim_base_db、eim_im数据库的权限

```



##### 安装nacos【可选】

如果已有nacos环境，可以不用安装。

```shell
# 创建nacos目录
mkdir -p /app/data/application/nacos

# 解压eim-dist.tar.gz并进入docker目录，修改docker-compose-fiz-server.yml中的nacos数据库连接配置，执行以下命令，启动nacos
docker-compose -f docker-compose-fiz-server.yml up nacos -d


```



检查使用nacos 用户是否可以登录nacos控制台，如果不能登录，检查nacos数据库的用户表和角色表是否有存在用户数据和角色数据，如果不存在，执行以下sql创建用户与角色

```sql
INSERT INTO `users` (`username`, `password`, `enabled`) VALUES ('nacos', '$2a$10$qmBkJNdws11AHeNwqULwKOLG2073lHqtG8CXMzC71j.vh6bJeK5du', 1);

INSERT INTO `roles` (`username`, `role`) VALUES ('nacos', 'ROLE_ADMIN');

```





##### 导入nacos配置

nacos启动成功后，通过浏览器登录nacos，创建命名空间Id为`eim-platform`的命名空间，并将eim-config.zip中的nacos配置导入eim-platform 命名空间中。



导入配置后，修改数据源、redis、minio等相关服务的ip地址端口等



##### 安装minio【可选】

如果已有minio环境，可以不用安装。

```
# 创建minio目录
mkdir -p /app/data/application/minio

# 解压eim-dist.tar.gz并进入docker目录，执行以下命令，启动minio
docker-compose -f docker-compose-fiz-server.yml up minio -d

```

通过浏览器访问minio，创建名为`sofly-avatar`的桶，并设置桶权限为可以匿名读取

minio访问端口为7011，账号为 : `soflyit`， 密码为：`eim@Minio0822~`

##### 安装redis【可选】

如果已有redis环境，可以不用安装。

```
# 创建redis目录
mkdir -p /app/data/application/redis/conf

# 将eim-config.zip中的redis配置文件上传到 /app/data/application/redis/conf 目录

# 解压eim-dist.tar.gz并进入docker目录，执行以下命令，启动redis
docker-compose -f docker-compose-fiz-server.yml up redis -d

```



##### 安装头像服务

下载[头像服务镜像 https://pan.baidu.com/s/1L7Q1k4lEyOOMB6IskqBU-A?pwd=174z ](链接：https://pan.baidu.com/s/1L7Q1k4lEyOOMB6IskqBU-A?pwd=174z)，并执行`gunzip -c soflyit_avatar_1.2.tar.gz | docker load `命令进行导入

```
# 解压eim-dist.tar.gz并进入docker目录，执行以下命令，启动头像服务
docker-compose -f docker-compose-fiz-server.yml up sofly-avatar -d
```



##### 安装nginx

```
# 创建nginx目录
mkdir -p /app/data/application/nginx

# 将eim-config.zip中nginx目录中的文件及文件夹上传到 /app/data/application/nginx 目录

# 将编译后的web端文件上传到im-ui与manager-ui目录

# 解压eim-dist.tar.gz并进入docker目录，执行以下命令，启动nginx服务
docker-compose -f docker-compose-fiz-server.yml up nginx -d

```

im服务访问端口默认为80；管理端访问端口默认为8000

管理员账号：admin / 123456

普通用户账号：A20001 / 123456 




##### 启动服务

在docker目录执行 `docker-compose -f docker-compose-fiz-server.yml up eim-gateway eim-auth eim-system eim-im -d --build` 命令，启动服务

#### 参与贡献

1.  Fork 本仓库
2.  新建 Feat_xxx 分支
3.  提交代码
4.  新建 Pull Request


# eim-ui

[eim-ui:](https://gitee.com/fiz-eim/eim-ui)[https://gitee.com/fiz-eim/eim-ui](https://gitee.com/fiz-eim/eim-ui)
